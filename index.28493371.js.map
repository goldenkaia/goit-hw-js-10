{"mappings":"AAEA,MAAMA,EAAWC,SAASC,cAAc,iBAClCC,EAAYF,SAASC,cAAc,aACnCE,EAAWH,SAASC,cAAc,WAClCG,EAAUJ,SAASC,cAAc,UAEvC,SAASI,EAAUC,EAAIC,GACrBD,EAAGE,UAAYD,C,CA0DjB,SAASE,EAAaH,EAAII,EAAS,OACjCJ,EAAGK,UAAUD,GAAQ,S,CAxDvBE,OAAOC,iBAAiB,QACxB,WCRSC,MAAM,uCAAqBC,MAAKC,IACrC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAAcH,EAASI,QAElD,OAAOJ,EAASK,MAAM,IDMrBN,MAAKC,IACJ,IAAIT,EAWV,SAA4Be,EAAS,IACnC,OAAOA,EACJC,KAAI,EAACC,KAAEA,EAAIC,GAAEA,KACL,mBAAmBA,MAAOD,eAElCE,KAAK,G,CAhBSC,CAAmBX,GAChCX,EAAUN,EAAUQ,EAAO,IAE5BqB,OAAMC,IACLC,QAAQC,IAAIF,EAAMG,SAClBvB,EAAaL,EAAS,SAAS,IAEhC6B,SAAQ,KACPxB,EAAaN,EAAS,G,IAyB5BJ,EAASc,iBAAiB,UAC1B,SAAkBqB,GAChB,MAAMC,EAAQD,EAAIE,OAAOD,MACzB1B,EAAaN,EAAU,UACvBM,EAAaL,ICxCiBiC,EDyCdF,ECxCTrB,MACL,wDAAsCuB,mFACtCtB,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAAcH,EAASI,QAElD,OAAOJ,EAASK,MAAM,KDmCrBN,MAAKC,IACJ,MAAMT,EAtBZ,UAAsB+B,IAAEA,EAAKhB,SAASE,KAAEA,EAAIe,YAAEA,EAAWC,YAAEA,MAYzD,MAXe,8BAECF,0FAIYd,wBACfe,iCAEJC,iB,CAYUC,CAAazB,EAAS,IACrCX,EAAUH,EAAWK,EAAO,IAE7BqB,OAAMC,IACLC,QAAQC,IAAIF,GACZpB,EAAaL,EAAS,SAAS,IAEhC6B,SAAQ,KACPxB,EAAaN,EAAS,ICnDrB,IAAyBkC,C","sources":["src/index.js","src/js/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './js/cat-api';\nimport './sass/index.scss';\nconst selectEl = document.querySelector('.breed-select');\nconst catInfoEl = document.querySelector('.cat-info');\nconst loaderEl = document.querySelector('.loader');\nconst errorEl = document.querySelector('.error');\n\nfunction addMarkup(el, markup) {\n  el.innerHTML = markup;\n}\n\nwindow.addEventListener('load', onLoad);\nfunction onLoad() {\n  fetchBreeds()\n    .then(response => {\n      let markup = createSelectOption(response);\n      addMarkup(selectEl, markup);\n    })\n    .catch(error => {\n      console.log(error.message);\n      toggleHidden(errorEl, 'remove');\n    })\n    .finally(() => {\n      toggleHidden(loaderEl);\n    });\n}\nfunction createSelectOption(breeds = []) {\n  return breeds\n    .map(({ name, id }) => {\n      return ` <option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n}\nfunction createMarkup({ url, breeds: [{ name, description, temperament }] }) {\n  const markup = `\n  <div>\n      <img src=\"${url}\" alt=\"cat\" width=\"350\">\n  </div>\n  <div>\n      <div>\n          <h1 class=\"title\">${name}</h1>\n          <p>${description}</p>\n      </div>\n      <p>${temperament}</p>\n  </div>`;\n  return markup;\n}\n\nselectEl.addEventListener('change', onChange);\nfunction onChange(evt) {\n  const value = evt.target.value;\n  toggleHidden(loaderEl, 'remove');\n  toggleHidden(errorEl);\n  fetchCatByBreed(value)\n    .then(response => {\n      const markup = createMarkup(response[0]);\n      addMarkup(catInfoEl, markup);\n    })\n    .catch(error => {\n      console.log(error);\n      toggleHidden(errorEl, 'remove');\n    })\n    .finally(() => {\n      toggleHidden(loaderEl);\n    });\n}\nfunction toggleHidden(el, method = 'add') {\n  el.classList[method]('hidden');\n}\n","const BASE_URL = 'https://api.thecatapi.com/v1/';\nconst API_KEY =\n  'live_N4CuRDc3SQpxZAYfRfkiFapshcZ8KYvtusSpmH0q6XUewW3sTnE3KNOd6goG0MPE';\nexport function fetchBreeds() {\n  return fetch(`${BASE_URL}breeds`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText || response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${BASE_URL}images/search?breed_ids=${breedId}&api_key=${API_KEY}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText || response.status);\n    }\n    return response.json();\n  });\n}\n"],"names":["$1f0dc3b9307be026$var$selectEl","document","querySelector","$1f0dc3b9307be026$var$catInfoEl","$1f0dc3b9307be026$var$loaderEl","$1f0dc3b9307be026$var$errorEl","$1f0dc3b9307be026$var$addMarkup","el","markup","innerHTML","$1f0dc3b9307be026$var$toggleHidden","method","classList","window","addEventListener","fetch","then","response","ok","Error","statusText","status","json","breeds","map","name","id","join","$1f0dc3b9307be026$var$createSelectOption","catch","error","console","log","message","finally","evt","value","target","breedId","url","description","temperament","$1f0dc3b9307be026$var$createMarkup"],"version":3,"file":"index.28493371.js.map"}